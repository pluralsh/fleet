apiVersion: deployments.plural.sh/v1alpha1
kind: ServiceDeployment
metadata:
  name: argo-rollouts-dev
spec:
  name: argo-rollouts
  namespace: argo-rollouts
  helm:
    chart: argo-rollouts
    version: 2.35.2 # VERSION
    repository:
      name: argo
      namespace: infra
  clusterRef:
    kind: Cluster
    name: gke-demo-dev
    namespace: gke-demo
---
apiVersion: deployments.plural.sh/v1alpha1
kind: GlobalService
metadata:
  name: argo-rollouts-dev-gke-demo
spec:
  cascade:
    delete: true
  serviceRef:
    name: argo-rollouts-dev
    namespace: gke-demo
  projectRef:
    name: gke-demo
  tags:
    tier: dev