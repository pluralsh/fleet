apiVersion: deployments.plural.sh/v1alpha1
kind: ServiceDeployment
metadata:
  name: clusters-gke-fleet-dev
spec:
  namespace: fleets
  git:
    folder: fleets/clusters/gke-fleet/dev
    ref: main
  configuration:
    kubernetesVersion: "1.28" # version
    drain: "blue" # drain
    active: "green" # active
    nextKubernetesVersion: "1.29" # version
  repositoryRef:
    kind: GitRepository
    name: fleet
    namespace: fleets
  clusterRef:
    kind: Cluster
    name: mgmt
    namespace: infra